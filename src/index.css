@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Myanmar:wght@500;600;700&display=swap');

:root {
  --font-sans: 'Plus Jakarta Sans', 'Avenir Next', 'Segoe UI', sans-serif;
  --font-sans-mm: 'Noto Sans Myanmar', 'Myanmar Sans Pro', 'Padauk', 'Noto Sans', sans-serif;

  --bg: #f3f6fb;
  --bg-accent: #e8f0ff;
  --surface: #ffffff;
  --surface-soft: #f8fbff;
  --surface-strong: #12233d;

  --text: #132a47;
  --text-muted: #5f7492;
  --text-on-strong: #f3f8ff;

  --primary: #0a7bff;
  --primary-strong: #085dcc;
  --primary-soft: #e5f1ff;
  --ink: #0f1217;
  --ink-soft: #1b212b;

  --success: #0f9967;
  --warning: #b46914;
  --danger: #d14343;

  --border: #d7e1ee;
  --border-strong: #c4d2e6;

  --radius-xs: 10px;
  --radius-sm: 14px;
  --radius-md: 18px;
  --radius-lg: 22px;
  --radius-xl: 28px;

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 28px;
  --space-8: 32px;

  --shadow-card: 0 10px 28px rgba(15, 37, 68, 0.1);
  --shadow-soft: 0 4px 12px rgba(16, 32, 56, 0.08);
  --shadow-sheet: 0 -12px 36px rgba(9, 27, 54, 0.22);

  --tap: 44px;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--text);
  background:
    radial-gradient(120% 65% at 10% -10%, #d9e7ff 0%, transparent 55%),
    radial-gradient(100% 55% at 100% 0%, #e8fff8 0%, transparent 45%),
    var(--bg);
  overflow-x: hidden;
}

html[lang='my'] body {
  font-family: var(--font-sans-mm);
}

a {
  color: inherit;
  text-decoration: none;
}

button,
input,
select,
textarea {
  font: inherit;
}

button {
  -webkit-tap-highlight-color: transparent;
}

:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--primary) 50%, white);
  outline-offset: 2px;
}

.app-shell {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  color: var(--text);
}

.topbar-wrap {
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
  background: rgba(247, 251, 255, 0.74);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
}

.topbar {
  width: min(960px, 100%);
  margin: 0 auto;
  padding: calc(var(--space-4) + env(safe-area-inset-top)) var(--space-4) var(--space-4);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  min-width: 0;
  min-height: 72px;
}

.brand-cluster {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  min-width: 0;
  flex: 1 1 auto;
}

.brand-icon {
  width: 42px;
  height: 42px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  color: #141b27;
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  background: color-mix(in srgb, var(--surface) 90%, #eef4ff 10%);
  box-shadow: var(--shadow-soft);
  flex-shrink: 0;
}

.brand-mark-svg {
  width: 26px;
  height: 26px;
}

.brand-copy {
  min-width: 0;
  overflow: hidden;
}

.brand-kicker {
  margin: 0;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.heading {
  margin: 0;
  font-size: clamp(1.15rem, 2.8vw, 1.5rem);
  line-height: 1.2;
  letter-spacing: -0.02em;
  font-weight: 800;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.subtle {
  margin: 0;
  color: var(--text-muted);
}

.topbar-actions {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-shrink: 0;
  margin-left: auto;
}

.user-chip {
  max-width: 44vw;
  min-height: 34px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 88%, var(--bg-accent) 12%);
  border-radius: 999px;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.content {
  width: min(960px, 100%);
  margin: 0 auto;
  flex: 1 1 auto;
  padding: var(--space-4);
  padding-bottom: calc(106px + env(safe-area-inset-bottom));
}

.content-editor {
  padding-bottom: calc(150px + env(safe-area-inset-bottom));
}

.stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.card,
.section-card,
.surface-card {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.76);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  padding: var(--space-4);
}

.card,
.section-card,
.surface-card,
.invoice-panel,
.flow-banner,
.list-card {
  animation: rise-fade 240ms ease both;
}

.surface-card {
  box-shadow: var(--shadow-soft);
}

.card-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.kicker {
  margin: 0 0 2px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.08em;
  color: var(--text-muted);
  text-transform: uppercase;
}

.title {
  margin: 0;
  font-size: clamp(1.05rem, 2.4vw, 1.3rem);
  font-weight: 800;
  line-height: 1.25;
}

.toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.btn {
  min-height: var(--tap);
  border: 1px solid transparent;
  border-radius: 14px;
  padding: 10px 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition:
    transform 0.14s ease,
    box-shadow 0.14s ease,
    background-color 0.14s ease,
    border-color 0.14s ease;
}

.btn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
}

.btn:not(:disabled):active {
  transform: translateY(1px) scale(0.99);
}

.btn-primary {
  color: white;
  border-color: color-mix(in srgb, var(--ink) 86%, white 14%);
  background: linear-gradient(150deg, var(--ink-soft) 0%, var(--ink) 75%, #090b0e 100%);
  box-shadow: 0 12px 24px rgba(9, 11, 14, 0.32);
}

.btn-primary:not(:disabled):hover {
  box-shadow: 0 14px 26px rgba(9, 11, 14, 0.4);
}

.btn-secondary {
  color: var(--text);
  border-color: var(--border);
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.btn-ghost {
  color: var(--ink-soft);
  border-color: color-mix(in srgb, var(--ink) 18%, white 82%);
  background: rgba(247, 250, 255, 0.72);
}

.btn-upgrade {
  color: #0b1b33;
  border: 1px solid rgba(11, 26, 54, 0.25);
  background: linear-gradient(135deg, #ffffff 0%, #eaf1ff 35%, #cfe2ff 100%);
  box-shadow:
    0 12px 24px rgba(24, 62, 120, 0.22),
    0 0 0 1px rgba(255, 255, 255, 0.7) inset;
  font-weight: 800;
  letter-spacing: 0.01em;
}

.btn-upgrade:not(:disabled):hover {
  box-shadow:
    0 14px 28px rgba(24, 62, 120, 0.28),
    0 0 0 1px rgba(255, 255, 255, 0.8) inset;
  transform: translateY(-1px);
}

.btn-upgrade:not(:disabled):active {
  transform: translateY(0);
}

.btn-danger {
  color: var(--danger);
  border-color: color-mix(in srgb, var(--danger) 30%, white 70%);
  background: #fff4f4;
}

.btn-record-payment {
  color: #07253f;
  border-color: color-mix(in srgb, #2a9af5 46%, white 54%);
  background: linear-gradient(145deg, #eff8ff 0%, #d5ecff 52%, #b7deff 100%);
  box-shadow:
    0 10px 22px rgba(39, 127, 201, 0.24),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset;
  font-weight: 800;
}

.btn-record-payment:not(:disabled):hover {
  box-shadow:
    0 12px 26px rgba(39, 127, 201, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.82) inset;
}

.btn-full {
  width: 100%;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-grid {
  display: grid;
  gap: var(--space-3);
}

.label {
  margin: 0;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.input,
select.input,
textarea.input {
  width: 100%;
  min-height: var(--tap);
  border-radius: 13px;
  border: 1px solid var(--border-strong);
  background: #fff;
  color: var(--text);
  padding: 10px 12px;
  font-size: 16px;
  transition: border-color 0.14s ease, box-shadow 0.14s ease;
}

textarea.input {
  resize: vertical;
}

.input::placeholder {
  color: color-mix(in srgb, var(--text-muted) 68%, white 32%);
}

.input:hover {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--border-strong) 65%);
}

.input:focus,
select.input:focus,
textarea.input:focus {
  border-color: color-mix(in srgb, var(--primary) 72%, white 28%);
  box-shadow: 0 0 0 4px rgba(10, 123, 255, 0.12);
  outline: none;
}

.search-wrap {
  position: relative;
}

.search-wrap .input {
  padding-left: 42px;
}

.search-icon {
  position: absolute;
  left: 13px;
  top: 50%;
  transform: translateY(-50%);
  width: 18px;
  height: 18px;
  color: var(--text-muted);
  pointer-events: none;
}

.pill-tabs {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 80%, var(--bg-accent) 20%);
}

.pill {
  min-height: 36px;
  border: 1px solid transparent;
  border-radius: 999px;
  padding: 0 12px;
  background: transparent;
  color: var(--text-muted);
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
}

.pill.active {
  background: var(--surface);
  color: var(--text);
  border-color: var(--border);
  box-shadow: var(--shadow-soft);
}

.list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.list-item,
.list-card {
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface);
  box-shadow: var(--shadow-soft);
  padding: 12px;
}

.list-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.list-link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  width: 100%;
  min-height: var(--tap);
  color: inherit;
}

.list-clickable {
  padding: 0;
}

.list-clickable .list-link {
  padding: 12px;
}

.list-link:active {
  transform: scale(0.995);
}

.list-meta {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.meta-chip {
  min-height: 24px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface-soft);
  padding: 3px 8px;
  font-size: 11px;
  font-weight: 700;
  color: var(--text-muted);
}

.badge {
  border-radius: 999px;
  padding: 5px 10px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.02em;
  text-transform: capitalize;
  border: 1px solid transparent;
}

.badge-success {
  background: #eafbf3;
  color: #0a7e4f;
  border-color: #bdeed6;
}

.badge-warning {
  background: #fff5e8;
  color: #a35e10;
  border-color: #ffd9ac;
}

.badge-neutral {
  background: #edf3fc;
  color: #3b5576;
  border-color: #cedef1;
}

.empty,
.state-empty,
.state-loading,
.state-error {
  border: 1px dashed var(--border-strong);
  border-radius: var(--radius-sm);
  padding: var(--space-5);
  text-align: center;
  color: var(--text-muted);
  background: color-mix(in srgb, var(--surface) 76%, var(--bg-accent) 24%);
}

.state-title {
  margin: 0 0 8px;
  font-weight: 800;
  color: var(--text);
}

.state-message {
  margin: 0;
}

.state-actions {
  margin-top: 12px;
  display: inline-flex;
  gap: 8px;
}

.state-error {
  border-color: color-mix(in srgb, var(--danger) 35%, white 65%);
  color: #8f3232;
  background: #fff7f7;
}

.state-error .state-title {
  color: #7d2626;
}

.state-loading {
  display: grid;
  gap: 10px;
}

.skeleton {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  background: #e8eef7;
}

.skeleton::after {
  content: '';
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: linear-gradient(90deg, rgba(232, 238, 247, 0), rgba(255, 255, 255, 0.7), rgba(232, 238, 247, 0));
  animation: shimmer 1.2s infinite;
}

.skeleton-line {
  height: 14px;
}

.skeleton-line.short {
  width: 45%;
}

.skeleton-line.long {
  width: 82%;
}

.skeleton-card {
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.inline-error {
  margin-top: 8px;
  color: var(--danger);
  font-size: 12px;
  font-weight: 700;
}

.toast {
  border: 1px solid #bae9d5;
  background: #ecfff5;
  color: #0c7a4e;
  padding: 10px 12px;
  border-radius: 12px;
  font-size: 13px;
  font-weight: 600;
}

.invoice-page {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.compact-step-indicator {
  width: fit-content;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--primary) 26%, var(--border) 74%);
  background: color-mix(in srgb, var(--primary-soft) 42%, white 58%);
  color: color-mix(in srgb, var(--text-muted) 70%, var(--text) 30%);
  padding: 5px 10px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.compact-step-current {
  color: var(--primary-strong);
}

.compact-step-divider {
  opacity: 0.42;
}

.compact-step-total {
  opacity: 0.72;
}

.flow-banner {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: linear-gradient(140deg, #ffffff 0%, #edf5ff 100%);
  box-shadow: var(--shadow-card);
  padding: var(--space-4);
}

.stepper {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
  margin-top: 12px;
}

.flow-health {
  margin-top: 12px;
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--surface-soft) 70%, white 30%);
  padding: 10px;
}

.flow-health-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.health-chip {
  min-height: 26px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #fff;
  color: var(--text-muted);
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.health-chip.ok {
  border-color: color-mix(in srgb, var(--success) 42%, white 58%);
  background: #effcf5;
  color: #0d7249;
}

.step {
  min-height: var(--tap);
  border-radius: 13px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-muted);
  padding: 6px 8px;
  display: grid;
  gap: 2px;
  text-align: left;
  font-size: 12px;
  cursor: pointer;
}

.step:disabled {
  opacity: 0.65;
  cursor: not-allowed;
}

.step-index {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.step-label {
  font-size: 13px;
  font-weight: 700;
  line-height: 1.2;
}

.step-current {
  border-color: color-mix(in srgb, var(--primary) 50%, white 50%);
  background: color-mix(in srgb, var(--primary-soft) 60%, white 40%);
  color: var(--text);
}

.step-complete {
  border-color: color-mix(in srgb, var(--success) 40%, white 60%);
  background: #effcf5;
  color: #0d7249;
}

.invoice-panel {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--surface);
  box-shadow: var(--shadow-card);
  padding: var(--space-4);
  display: grid;
  gap: var(--space-3);
}

.invoice-panel-customer {
  gap: var(--space-4);
}

.invoice-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.invoice-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 800;
  color: var(--text-muted);
}

.invoice-number {
  margin-top: 3px;
  font-size: 22px;
  letter-spacing: -0.02em;
  font-weight: 800;
}

.invoice-meta {
  display: grid;
  gap: 10px;
  width: 100%;
}

.invoice-meta-grid {
  display: grid;
  gap: 10px;
}

.invoice-meta-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-3);
}

.invoice-meta-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.invoice-paper-wrap {
  padding-bottom: 2px;
  display: flex;
  justify-content: center;
}

.invoice-paper {
  width: min(860px, 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background: var(--surface);
  box-shadow: var(--shadow-card);
  padding: 22px;
}

.invoice-paper-template {
  border-color: #e5e7eb;
  color: var(--text);
}

.invoice-paper-head {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: start;
  column-gap: var(--space-4);
  row-gap: 8px;
}

.invoice-paper-brand {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 10px;
  min-width: 0;
}

.invoice-paper-logo-image {
  width: auto;
  height: auto;
  max-width: clamp(124px, 30vw, 170px);
  max-height: 90px;
  object-fit: contain;
  object-position: left center;
  display: block;
  margin: 0;
}

.invoice-paper-logo {
  width: 42px;
  height: 42px;
  flex-shrink: 0;
  color: var(--text);
}

.invoice-paper-brand-title {
  margin: 0;
  font-weight: 800;
  letter-spacing: -0.02em;
  font-size: 16px;
  line-height: 1.2;
}

.invoice-paper-brand-subtle {
  margin: 2px 0 0;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.invoice-paper-title {
  min-width: 0;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: flex-start;
  gap: 7px;
  text-align: right;
}

.invoice-paper-heading {
  font-size: 28px;
  font-weight: 900;
  letter-spacing: -0.03em;
  line-height: 1;
  color: var(--primary-strong);
}

.invoice-paper-template .invoice-paper-heading {
  color: var(--text);
}

.invoice-paper-template .invoice-paper-brand-subtle,
.invoice-paper-template .invoice-paper-number,
.invoice-paper-template .invoice-paper-balance-label,
.invoice-paper-template .invoice-paper-block-label,
.invoice-paper-template .invoice-item-meta {
  color: var(--text-muted);
}

.invoice-paper-number {
  margin-top: 0;
  font-size: 13px;
  font-weight: 800;
  color: var(--text-muted);
}

.invoice-paper-balance {
  margin-top: 2px;
  text-align: right;
}

.invoice-paper-balance-label {
  color: var(--text-muted);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 11px;
}

.invoice-paper-balance-value {
  margin-top: 2px;
  font-size: 18px;
  font-weight: 900;
}

.invoice-paper-status {
  margin-top: 2px;
  align-self: flex-end;
}

.invoice-paper-grid {
  margin-top: 18px;
  display: grid;
  gap: var(--space-4);
}

.invoice-paper-block {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--surface) 86%, var(--bg-accent) 14%);
  padding: 14px;
}

.invoice-paper-template .invoice-paper-block,
.invoice-paper-template .invoice-totals-card {
  border-color: #e5e7eb;
  background: #ffffff;
}

.invoice-paper-block-label {
  font-size: 11px;
  font-weight: 900;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.invoice-paper-block-value {
  margin-top: 6px;
  font-size: 15px;
  font-weight: 800;
}

.invoice-paper-block-row {
  display: flex;
  justify-content: space-between;
  gap: 14px;
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
  padding: 6px 0;
  border-bottom: 1px solid color-mix(in srgb, var(--border) 75%, white 25%);
}

.invoice-paper-template .invoice-paper-block-row {
  border-bottom-color: #e5e7eb;
}

.invoice-paper-block-row:last-child {
  border-bottom: none;
}

.invoice-table {
  margin-top: 18px;
  border-top: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
}

.invoice-paper-template .invoice-table {
  border-top-color: #e5e7eb;
}

.invoice-table > .invoice-items-table {
  padding-top: 12px;
  font-size: 12px;
}

.invoice-table .invoice-items-name {
  font-size: 12px;
}

.invoice-table .invoice-items-cell-right {
  font-size: 12px;
}

.invoice-table-row {
  display: grid;
  grid-template-columns:
    26px minmax(240px, 3fr) minmax(64px, 0.9fr)
    minmax(96px, 1.1fr) minmax(118px, 1.35fr);
  gap: 14px;
  align-items: start;
  padding: 12px 0;
  border-bottom: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
}

.invoice-paper-template .invoice-table-row {
  border-bottom-color: #e5e7eb;
}

.invoice-table-row > :nth-child(3),
.invoice-table-row > :nth-child(4),
.invoice-table-row > :nth-child(5) {
  white-space: nowrap;
}

.invoice-table-head {
  padding-top: 14px;
  padding-bottom: 10px;
  font-size: 11px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
}

.invoice-paper-template .invoice-table-head > div {
  background: var(--invoice-template-table-header-bg, var(--invoice-template-primary, var(--primary)));
  color: var(--invoice-template-table-header-text, #ffffff);
  border-radius: 8px;
  padding: 6px 8px;
}

.invoice-item-name {
  font-weight: 800;
}

.invoice-item-meta {
  display: none;
  margin-top: 4px;
  font-size: 12px;
  font-weight: 700;
  color: var(--text-muted);
}

.invoice-totals {
  margin-top: 16px;
  display: flex;
  justify-content: flex-end;
}

.invoice-totals-card {
  width: min(360px, 100%);
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--surface) 86%, var(--bg-accent) 14%);
  padding: 14px;
}

.invoice-total-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  font-weight: 700;
  padding: 6px 0;
}

.invoice-total-strong {
  border-top: 1px dashed color-mix(in srgb, var(--border) 82%, white 18%);
  margin-top: 6px;
  padding-top: 10px;
  font-weight: 900;
}

.invoice-paper-template .invoice-total-strong {
  border-top-color: #e5e7eb;
}

.invoice-actions {
  grid-template-columns: 1fr 1.3fr;
}

.action-list {
  display: grid;
  gap: 10px;
}

.bank-select-option {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.bank-select-meta {
  font-size: 12px;
  color: var(--text-muted);
}

@media (max-width: 560px) {
  .topbar {
    min-height: 64px;
    padding-top: calc(10px + env(safe-area-inset-top));
    padding-bottom: 10px;
    padding-left: 12px;
    padding-right: 12px;
    gap: 10px;
  }

  .brand-icon {
    width: 38px;
    height: 38px;
    border-radius: 12px;
  }

  .brand-mark-svg {
    width: 22px;
    height: 22px;
  }

  .brand-kicker {
    font-size: 10px;
    letter-spacing: 0.07em;
  }

  .heading {
    font-size: clamp(1.02rem, 4.6vw, 1.24rem);
  }

  .topbar-actions .btn {
    min-height: 40px;
    padding: 7px 12px;
    border-radius: 12px;
    white-space: nowrap;
    font-size: 14px;
  }

  .invoice-paper {
    padding: 18px;
  }

  .invoice-paper-heading {
    font-size: 22px;
  }

  .invoice-paper-head {
    column-gap: 14px;
    row-gap: 6px;
  }

  .invoice-paper-logo-image {
    max-width: clamp(96px, 32vw, 126px);
    max-height: 72px;
  }

  .invoice-paper-brand-title {
    font-size: 14px;
  }

  .invoice-paper-title {
    gap: 5px;
  }

  .invoice-paper-number {
    font-size: 12px;
  }

  .invoice-paper-balance-label {
    font-size: 10px;
  }

  .invoice-paper-balance-value {
    font-size: 17px;
  }

  .invoice-items-row {
    grid-template-columns: minmax(0, 1fr) 40px minmax(70px, 0.52fr) minmax(84px, 0.58fr);
    gap: 6px;
  }

  .invoice-items-row-header .invoice-items-cell {
    font-size: 10px;
    padding: 6px 7px;
  }

  .invoice-items-desc {
    font-size: 11px;
  }

  .invoice-table > .invoice-items-table {
    font-size: 11.5px;
  }

  .invoice-table .invoice-items-name,
  .invoice-table .invoice-items-cell-right {
    font-size: 11.5px;
  }

  .invoice-table-head {
    display: none;
  }

  .invoice-table-row {
    grid-template-columns: 1fr auto;
    padding: 14px 0;
  }

  .invoice-col-index,
  .invoice-col-qty,
  .invoice-col-rate {
    display: none;
  }

  .invoice-item-meta {
    display: block;
  }
}

@media print {
  body {
    background: white;
  }

  .topbar-wrap,
  .bottom-nav,
  .fab,
  .sticky-actions,
  .sheet,
  .sheet-backdrop,
  .modal-backdrop {
    display: none !important;
  }

  .content {
    width: 100%;
    padding: 0 !important;
  }

  .invoice-paper {
    box-shadow: none;
    border: none;
    border-radius: 0;
    padding: 0;
  }
}

.customer-select-card {
  width: 100%;
  min-height: 88px;
  border: 1px solid color-mix(in srgb, var(--primary) 32%, var(--border) 68%);
  border-radius: 16px;
  background: linear-gradient(160deg, #ffffff 0%, color-mix(in srgb, var(--primary-soft) 30%, #ffffff 70%) 100%);
  box-shadow: 0 14px 26px color-mix(in srgb, var(--primary) 14%, transparent 86%);
  padding: 16px 18px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--space-3);
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
  animation: customer-focus-enter 0.9s ease-out 1;
}

.customer-select-card:hover,
.customer-select-card:focus-visible {
  border-color: color-mix(in srgb, var(--primary) 48%, var(--border) 52%);
  box-shadow:
    0 18px 30px color-mix(in srgb, var(--primary) 20%, transparent 80%),
    0 0 0 1px color-mix(in srgb, var(--primary) 26%, transparent 74%);
}

.customer-select-card:active {
  transform: translateY(1px);
}

.customer-select-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: color-mix(in srgb, var(--primary-soft) 70%, white 30%);
  color: var(--primary-strong);
  display: grid;
  place-items: center;
}

.customer-select-icon svg {
  width: 22px;
  height: 22px;
  stroke: currentColor;
  stroke-width: 1.9;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.customer-select-copy {
  min-width: 0;
  display: grid;
  gap: 3px;
  text-align: left;
}

/* Match select-item (line-title) typography for consistency with invoice line card */
.customer-select-label {
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0;
  text-transform: none;
  color: var(--text-muted);
}

.customer-select-value {
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.customer-select-placeholder {
  color: color-mix(in srgb, var(--text-muted) 80%, white 20%);
  font-weight: 700;
}

.customer-select-arrow {
  font-size: 28px;
  line-height: 1;
  font-weight: 800;
  color: var(--primary-strong);
}

.location-settings-card {
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: 14px;
  background: color-mix(in srgb, var(--surface-soft) 72%, white 28%);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.location-settings-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.location-settings-item {
  min-width: 0;
  display: grid;
  gap: 3px;
}

.location-settings-label {
  font-size: 10px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 800;
  color: var(--text-muted);
}

.location-settings-value {
  font-size: 13px;
  font-weight: 700;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.location-settings-action {
  min-height: 36px;
  padding: 8px 12px;
  justify-self: flex-start;
}

@media (max-width: 560px) {
  .location-settings-grid {
    grid-template-columns: 1fr;
  }

  .customer-select-value {
    font-size: 16px;
  }

  .totals-hero-card .summary-total > :last-child {
    font-size: 30px;
  }
}

.section-title {
  margin: 0;
  font-size: 16px;
  font-weight: 800;
  letter-spacing: -0.01em;
}

.section-title-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.section-hint {
  margin: 0;
  font-size: 13px;
  color: var(--text-muted);
}

.line-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.line-card {
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface-soft);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.line-card-error {
  border-color: color-mix(in srgb, var(--danger) 40%, white 60%);
  background: #fff4f4;
}

.line-item-button {
  min-height: 56px;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  cursor: pointer;
}

.line-title {
  font-weight: 700;
}

.line-subtitle {
  margin-top: 2px;
  font-size: 12px;
  color: var(--text-muted);
}

.line-amount {
  font-weight: 800;
  letter-spacing: -0.01em;
}

.line-fields {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.line-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 8px;
}

.toggle {
  min-height: var(--tap);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 700;
  color: var(--text-muted);
}

.toggle input {
  width: 18px;
  height: 18px;
}

.summary-card {
  border: 1px solid #c8dbef;
  border-radius: var(--radius-sm);
  background: linear-gradient(140deg, #f7fbff 0%, #edf4ff 100%);
  padding: 12px;
  display: grid;
  gap: 8px;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-weight: 600;
  color: #2f4667;
}

.summary-total {
  font-size: 18px;
  font-weight: 800;
  color: var(--text);
  padding-top: 4px;
  border-top: 1px dashed #bfd4eb;
}

.invoice-panel-review {
  gap: var(--space-4);
}

.review-summary-card {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: 14px;
  background: color-mix(in srgb, var(--surface-soft) 64%, white 36%);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.review-summary-row {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.review-summary-main {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.review-summary-label {
  font-size: 10px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 800;
  color: var(--text-muted);
}

.review-summary-value {
  font-size: 14px;
  font-weight: 700;
  color: var(--text);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.review-summary-subvalue {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-muted);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.review-summary-placeholder {
  color: color-mix(in srgb, var(--text-muted) 78%, white 22%);
}

.review-summary-divider {
  height: 1px;
  background: color-mix(in srgb, var(--border) 78%, white 22%);
}

.review-link-btn {
  border: 0;
  background: transparent;
  color: color-mix(in srgb, var(--ink-soft) 88%, white 12%);
  padding: 0;
  min-height: auto;
  font-size: 12px;
  font-weight: 700;
  line-height: 1.4;
  text-decoration: underline;
  text-underline-offset: 2px;
  cursor: pointer;
  white-space: nowrap;
}

.review-link-btn:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--primary) 40%, white 60%);
  outline-offset: 2px;
  border-radius: 4px;
}

.review-inline-editor .input {
  min-height: 40px;
  font-size: 13px;
  padding: 8px 10px;
}

.review-support-grid {
  display: grid;
  gap: 10px;
}

.review-support-card {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: 14px;
  background: var(--surface);
  padding: 12px;
  display: grid;
  gap: 8px;
}

.totals-hero-card {
  border-color: color-mix(in srgb, var(--border-strong) 62%, white 38%);
  background: linear-gradient(
    160deg,
    color-mix(in srgb, var(--primary-soft) 40%, white 60%) 0%,
    color-mix(in srgb, var(--primary-soft) 24%, white 76%) 100%
  );
  padding: 18px;
  gap: 12px;
}

.totals-hero-card .summary-row {
  font-size: 13px;
  color: color-mix(in srgb, var(--text-muted) 70%, var(--text) 30%);
}

.totals-hero-card .summary-total {
  padding-top: 12px;
  margin-top: 4px;
  border-top: 1px solid color-mix(in srgb, var(--border-strong) 70%, white 30%);
  align-items: flex-end;
}

.totals-hero-card .summary-total > :first-child {
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 800;
  color: var(--text-muted);
}

.totals-hero-card .summary-total > :last-child {
  font-size: 34px;
  line-height: 1;
  letter-spacing: -0.03em;
  font-weight: 900;
  color: var(--text);
}

.note-collapsible-card {
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: 14px;
  background: var(--surface);
  padding: 10px;
}

.note-expand-button {
  width: 100%;
  min-height: 44px;
  border-radius: 12px;
  border: 1px dashed color-mix(in srgb, var(--border-strong) 70%, white 30%);
  background: color-mix(in srgb, var(--surface-soft) 72%, white 28%);
  padding: 0 12px;
  text-align: left;
  font-size: 13px;
  font-weight: 700;
  color: var(--text-muted);
  cursor: pointer;
}

.note-editor-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.note-editor-input {
  min-height: 92px;
}

.flow-note-card {
  border: 1px dashed color-mix(in srgb, var(--border-strong) 78%, white 22%);
  background: color-mix(in srgb, var(--surface-soft) 72%, white 28%);
  padding: 12px;
}

.readiness-card {
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--surface-soft) 72%, white 28%);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.readiness-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.readiness-item {
  min-height: 32px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #fff;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  display: grid;
  place-items: center;
  text-align: center;
}

.readiness-item.ok {
  border-color: color-mix(in srgb, var(--success) 42%, white 58%);
  background: #effcf5;
  color: #0d7249;
}

.readiness-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.preview-chip {
  min-height: var(--tap);
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--primary) 22%, white 78%);
  background: color-mix(in srgb, var(--primary-soft) 70%, white 30%);
  color: var(--primary-strong);
  font-size: 13px;
  font-weight: 700;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.preview {
  border-radius: var(--radius-sm);
  border: 1px solid color-mix(in srgb, #294d7d 35%, white 65%);
  background: linear-gradient(170deg, #132746 0%, #0c1930 100%);
  color: var(--text-on-strong);
  padding: 14px;
}

.preview .subtle {
  color: rgba(236, 246, 255, 0.74);
}

.invoice-preview-logo {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  object-fit: cover;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(215, 227, 244, 0.28);
}

.preview-line {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 6px;
  font-size: 14px;
}

.preview-divider {
  border-top: 1px solid rgba(222, 237, 255, 0.2);
  margin-top: 8px;
  padding-top: 8px;
}

.sheet-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(8, 22, 43, 0.32);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 26;
}

.sheet-backdrop.open {
  opacity: 1;
  pointer-events: auto;
}

.sheet {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 27;
  transform: translateY(110%);
  transition: transform 0.24s ease;
  background: var(--surface);
  border-radius: 20px 20px 0 0;
  border-top: 1px solid var(--border);
  box-shadow: var(--shadow-sheet);
  padding: 10px 14px calc(14px + env(safe-area-inset-bottom));
  max-height: min(75vh, 620px);
  overflow-y: auto;
}

.sheet.open {
  transform: translateY(0);
}

.sheet-handle {
  width: 42px;
  height: 4px;
  border-radius: 999px;
  background: #ccd8e7;
  margin: 4px auto 10px;
}

.sheet-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.sticky-actions {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 25;
  margin: 0 auto;
  width: min(960px, 100%);
  padding: 10px var(--space-4) calc(10px + env(safe-area-inset-bottom));
  display: grid;
  grid-template-columns: 1fr 1.3fr;
  gap: 10px;
  background: rgba(245, 249, 255, 0.74);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
  border-top: 1px solid var(--border);
}

.sticky-actions-hint {
  grid-column: 1 / -1;
  margin: 0;
  font-size: 12px;
  font-weight: 700;
  color: var(--text-muted);
}

.picker-page {
  min-height: 100vh;
  background: var(--bg);
  padding: calc(var(--space-4) + env(safe-area-inset-top)) var(--space-4) var(--space-4);
}

.picker-header {
  display: grid;
  grid-template-columns: var(--tap) 1fr auto;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.back-link {
  width: var(--tap);
  height: var(--tap);
  display: grid;
  place-items: center;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--surface);
  font-size: 20px;
  box-shadow: var(--shadow-soft);
}

.picker-title {
  margin: 0;
  font-size: 20px;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.picker-action .btn {
  min-height: 40px;
  padding: 8px 12px;
}

.picker-search {
  margin-bottom: 10px;
}

.picker-section {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--surface);
  box-shadow: var(--shadow-soft);
  padding: 12px;
  margin-bottom: 12px;
}

.picker-section-title {
  margin: 0 0 10px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.picker-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.picker-item {
  min-height: var(--tap);
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--surface-soft);
  padding: 10px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  cursor: pointer;
}

.picker-item-title {
  text-align: left;
  font-weight: 700;
}

.picker-item-meta {
  font-size: 13px;
  color: var(--text-muted);
  font-weight: 700;
}

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(9, 24, 45, 0.4);
  z-index: 40;
  display: grid;
  align-items: end;
}

.modal-card {
  width: min(560px, 100%);
  margin: 0 auto;
  border-radius: 20px 20px 0 0;
  border: 1px solid var(--border);
  border-bottom: none;
  background: var(--surface);
  box-shadow: var(--shadow-sheet);
  padding: 14px 14px calc(14px + env(safe-area-inset-bottom));
  max-height: 84vh;
  overflow-y: auto;
}

.modal-handle {
  width: 40px;
  height: 4px;
  border-radius: 999px;
  background: #ccd8e7;
  margin: 2px auto 12px;
}

.auth-page {
  min-height: 100vh;
  background:
    radial-gradient(100% 65% at 0% 0%, #dbe8ff 0%, transparent 55%),
    radial-gradient(110% 70% at 100% 100%, #d9fff2 0%, transparent 52%),
    var(--bg);
  display: grid;
  align-items: center;
  padding: var(--space-4);
}

.auth-panel {
  width: min(420px, 100%);
  margin: 0 auto;
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: color-mix(in srgb, var(--surface) 88%, #eff6ff 12%);
  box-shadow: 0 20px 45px rgba(13, 33, 59, 0.15);
  overflow: hidden;
}

.auth-head {
  padding: 24px 20px 18px;
  border-bottom: 1px solid color-mix(in srgb, var(--border) 70%, white 30%);
  background: linear-gradient(140deg, #fbfdff 0%, #eef5ff 100%);
}

.auth-brand {
  display: inline-flex;
  align-items: center;
  margin-bottom: 12px;
  color: var(--text);
  font-weight: 800;
  letter-spacing: -0.02em;
}

.auth-brand-logo {
  width: min(180px, 64vw);
  height: auto;
  color: #101826;
}

.welcome-brand-logo {
  width: min(210px, 72vw);
  height: auto;
  color: #141f2f;
}

.welcome-hero-shell {
  width: 100%;
  max-width: 410px;
  height: clamp(300px, 44vh, 360px);
  margin-bottom: 14px;
  position: relative;
}

.welcome-title {
  margin: 0 0 10px;
  font-size: clamp(28px, 6.6vw, 34px);
  font-weight: 800;
  color: #1e293b;
  text-align: center;
  line-height: 1.22;
  letter-spacing: -0.02em;
}

.welcome-copy {
  margin: 0;
  margin-bottom: 12px;
  max-width: 360px;
  font-size: 15.5px;
  color: #64748b;
  text-align: center;
  line-height: 1.7;
}

html[lang='my'] .welcome-title,
html[lang='my'] .welcome-copy {
  font-family: var(--font-sans-mm);
  letter-spacing: 0;
}

html[lang='my'] .welcome-title {
  line-height: 1.32;
}

html[lang='my'] .welcome-copy {
  line-height: 1.8;
  font-size: 16px;
}

.welcome-actions {
  position: sticky;
  bottom: 0;
  z-index: 2;
  padding: 12px 24px calc(14px + env(safe-area-inset-bottom));
  border-top: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  background: rgba(245, 249, 255, 0.72);
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
}

.welcome-primary-btn {
  width: 100%;
  min-height: 56px;
  padding: 16px 24px;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: white;
  border: none;
  border-radius: 16px;
  font-size: 17px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(30, 41, 59, 0.3);
  transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.welcome-primary-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(30, 41, 59, 0.35);
}

.welcome-primary-btn:active {
  transform: translateY(0);
}

.welcome-actions-subline {
  margin: 12px 0 0;
  text-align: center;
  font-size: 13px;
  color: #6f829a;
}

.welcome-secondary-link {
  color: #0f2f5a;
  font-weight: 800;
}

.welcome-powered {
  text-align: center;
  margin-top: 14px;
  margin-bottom: 0;
  font-size: 13px;
  color: #94a3b8;
}

.auth-form {
  padding: 18px 20px 22px;
  display: grid;
  gap: 14px;
}

.auth-state {
  padding: 10px 12px;
  border-radius: 12px;
  font-size: 13px;
  font-weight: 700;
  border: 1px solid transparent;
}

.auth-state-success {
  background: #ecfff5;
  border-color: #bae9d5;
  color: #0c7a4e;
}

.auth-state-error {
  background: #fff6f6;
  border-color: #f4c9c9;
  color: #a43434;
}

.auth-foot {
  margin-top: 4px;
  text-align: center;
  font-size: 13px;
  color: var(--text-muted);
}

.auth-trust {
  margin: -4px 0 0;
  text-align: center;
  font-size: 12px;
  color: #5f738d;
  font-weight: 600;
}

.auth-link {
  color: var(--primary-strong);
  font-weight: 700;
}

.login-flat-page {
  min-height: 100vh;
  background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  position: relative;
  overflow: hidden;
  padding: clamp(26px, 8.5vh, 84px) 24px;
}

.login-flat-page::before {
  content: '';
  position: absolute;
  top: -10%;
  right: -20%;
  width: 80%;
  height: 50%;
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.08) 0%, rgba(34, 211, 238, 0.05) 100%);
  border-radius: 50%;
  filter: blur(60px);
}

.login-flat-page::after {
  content: '';
  position: absolute;
  bottom: 10%;
  left: -10%;
  width: 60%;
  height: 40%;
  background: linear-gradient(135deg, rgba(34, 211, 238, 0.08) 0%, rgba(37, 99, 235, 0.05) 100%);
  border-radius: 50%;
  filter: blur(60px);
}

.login-flat-shell {
  width: min(420px, 100%);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 28px;
  position: relative;
  z-index: 1;
}

.login-flat-fade-in {
  animation: login-fade-in 320ms ease both;
}

.login-flat-top {
  display: grid;
  gap: 16px;
}

.login-flat-brand {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  margin-top: 4px;
}

.login-flat-brand-logo {
  width: 41px;
  height: 41px;
  color: #0f172a;
}

.login-flat-brand-text {
  margin: 0;
  font-size: 17px;
  font-weight: 800;
  color: #111827;
  letter-spacing: 0.012em;
  line-height: 1;
}

.login-flat-title {
  margin: 0;
  font-size: clamp(31px, 6.3vw, 38px);
  font-weight: 800;
  color: #111827;
  line-height: 1.2;
  letter-spacing: -0.02em;
}

.login-flat-subtitle {
  margin: 0;
  color: #64748b;
  font-size: 15.5px;
  line-height: 1.75;
}

.login-flat-form {
  display: grid;
  gap: 18px;
}

.login-flat-label {
  margin: 0;
  font-size: 13px;
  line-height: 1.4;
  font-weight: 800;
  letter-spacing: 0.035em;
  text-transform: uppercase;
  color: #4b5563;
}

.login-flat-input-wrap {
  position: relative;
}

.login-flat-input-icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  color: #94a3b8;
  pointer-events: none;
}

.login-flat-input-icon svg {
  width: 100%;
  height: 100%;
  display: block;
}

.login-flat-input {
  min-height: 54px;
  border-radius: 12px;
  border: 1px solid #d1d5db;
  background: rgba(255, 255, 255, 0.92);
  padding: 12px 16px;
  box-shadow: none;
}

.login-flat-input-with-icon {
  padding-left: 44px;
}

.login-flat-input-with-toggle {
  padding-right: 64px;
}

.login-flat-input::placeholder {
  color: #9ca3af;
}

.login-flat-input:hover {
  border-color: #a3afbf;
}

.login-flat-input:focus {
  border-color: #0f172a;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.12);
}

.login-flat-password-toggle {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  border: none;
  background: transparent;
  color: #334155;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 8px;
}

.login-flat-password-toggle:hover {
  color: #0f172a;
}

.login-flat-password-toggle:focus-visible {
  outline: 2px solid #93c5fd;
  outline-offset: 2px;
}

.login-flat-submit {
  width: 100%;
  min-height: 56px;
  border: 1px solid #0f172a;
  border-radius: 12px;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: #ffffff;
  font-size: 16.5px;
  font-weight: 800;
  letter-spacing: 0.01em;
  cursor: pointer;
  transition: background-color 0.14s ease, transform 0.12s ease, filter 0.14s ease;
}

.login-flat-submit:hover:not(:disabled) {
  filter: brightness(0.96);
}

.login-flat-submit:active:not(:disabled) {
  transform: scale(0.97);
}

.login-flat-submit:disabled {
  cursor: not-allowed;
  opacity: 0.66;
}

.login-flat-submit:focus-visible {
  outline: 3px solid #93c5fd;
  outline-offset: 2px;
}

.login-flat-state {
  margin-top: 2px;
}

.login-flat-bottom {
  display: grid;
  gap: 16px;
  padding-bottom: 6px;
}

.login-flat-trust {
  margin: 0;
  color: #6b7280;
  font-size: 13px;
  line-height: 1.6;
}

.login-flat-foot {
  margin: 0;
  color: #6b7280;
  font-size: 13px;
  line-height: 1.6;
}

.login-flat-link {
  color: #2563eb;
  font-weight: 700;
}

.login-flat-link:focus-visible {
  outline: 2px solid #93c5fd;
  outline-offset: 2px;
  border-radius: 4px;
}

@media (min-width: 768px) {
  .login-flat-page {
    align-items: center;
    padding: clamp(48px, 10vh, 104px) 24px;
  }
}

html[lang='my'] .login-flat-title,
html[lang='my'] .login-flat-subtitle,
html[lang='my'] .login-flat-label,
html[lang='my'] .login-flat-trust,
html[lang='my'] .login-flat-foot {
  line-height: 1.8;
}

@keyframes login-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.more-grid {
  display: grid;
  gap: 12px;
}

.subscription-summary-card {
  display: grid;
  gap: 8px;
}

.subscription-summary-btn {
  margin-top: 10px;
  width: fit-content;
  min-width: 180px;
}

.more-action-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.more-action-tile {
  --action-accent: var(--primary);
  min-height: 104px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--action-accent) 14%, var(--border) 86%);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.88) 0%, var(--surface-soft) 100%);
  box-shadow: var(--shadow-soft);
  padding: 12px;
  text-align: left;
  display: grid;
  gap: 10px;
  cursor: pointer;
  transition: transform 0.18s ease, border-color 0.18s ease, background 0.18s ease;
}

.more-action-tile:active {
  transform: scale(0.99);
}

.more-action-tile.primary {
  grid-column: 1 / -1;
  min-height: 116px;
  border-color: color-mix(in srgb, var(--action-accent) 40%, white 60%);
  background:
    radial-gradient(140% 95% at 20% 8%, color-mix(in srgb, var(--action-accent) 22%, transparent 78%) 0%, transparent 54%),
    radial-gradient(120% 120% at 100% 100%, rgba(104, 235, 187, 0.12) 0%, transparent 52%),
    var(--surface);
}

.more-action-tile.wide {
  grid-column: 1 / -1;
}

.more-action-tile.action-template {
  --action-accent: var(--primary);
}

.more-action-tile.action-bank {
  --action-accent: var(--success);
}

.more-action-tile.action-telegram {
  --action-accent: #229ed9;
}

.more-action-tile.action-company {
  --action-accent: #0f1217;
}

.more-action-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.more-action-icon {
  width: 46px;
  height: 46px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--action-accent) 18%, white 82%);
  background: color-mix(in srgb, var(--action-accent) 14%, white 86%);
  color: color-mix(in srgb, var(--action-accent) 78%, var(--ink) 22%);
  display: grid;
  place-items: center;
}

.more-action-tile.primary .more-action-icon {
  width: 54px;
  height: 54px;
  border-radius: 18px;
}

.more-action-icon svg {
  width: 24px;
  height: 24px;
}

.more-action-thumb {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  object-fit: cover;
  display: block;
}

.more-action-tile.primary .more-action-icon svg {
  width: 28px;
  height: 28px;
}

.more-action-chevron {
  width: 22px;
  height: 22px;
  display: grid;
  place-items: center;
  color: color-mix(in srgb, var(--text-muted) 82%, white 18%);
}

.more-action-chevron svg {
  width: 22px;
  height: 22px;
}

.more-action-text {
  display: grid;
  gap: 2px;
}

.more-action-title {
  margin: 0;
  font-size: 15px;
  font-weight: 900;
  letter-spacing: -0.01em;
}

.more-action-copy {
  margin: 0;
  color: var(--text-muted);
  font-size: 12px;
  line-height: 1.35;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.company-profile-page {
  padding-bottom: calc(104px + env(safe-area-inset-bottom));
}

.profile-logo-picker {
  width: min(100%, 260px);
  height: 220px;
  border-radius: 22px;
  border: 1px dashed color-mix(in srgb, var(--border) 78%, white 22%);
  background: color-mix(in srgb, var(--surface-soft) 72%, white 28%);
  display: grid;
  place-items: center;
  overflow: hidden;
  color: var(--text-muted);
  font-size: 15px;
  font-weight: 600;
}

.profile-logo-picker img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.profile-logo-picker-small {
  height: 170px;
}

.profile-wizard-page {
  padding-bottom: calc(104px + env(safe-area-inset-bottom));
}

.profile-wizard-card {
  min-height: clamp(520px, 74vh, 700px);
}

.profile-wizard-title {
  margin: 0;
  font-size: clamp(1.7rem, 4.8vw, 2.4rem);
  letter-spacing: -0.03em;
  line-height: 1.12;
}

.profile-wizard-subtitle {
  margin: 8px 0 0;
  color: var(--text-muted);
  font-size: clamp(1rem, 3.7vw, 1.3rem);
}

.profile-wizard-dots {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-top: 22px;
}

.profile-wizard-dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--border) 84%, #ffffff 16%);
}

.profile-wizard-dot.active {
  width: 46px;
  background: #111111;
}

.profile-wizard-form {
  margin-top: 24px;
}

.profile-wizard-icon {
  width: 180px;
  height: 180px;
  border-radius: 999px;
  margin: 2px auto 2px;
  background: #0f1217;
  color: #f5f7fb;
  display: grid;
  place-items: center;
}

.profile-wizard-icon svg {
  width: 88px;
  height: 88px;
}

.profile-wizard-actions {
  grid-template-columns: 1fr 1fr;
}

.link-btn {
  background: none;
  border: none;
  color: var(--primary);
  font-weight: 600;
  padding: 0;
  cursor: pointer;
}

.link-btn:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.onboarding-page {
  padding-bottom: calc(104px + env(safe-area-inset-bottom));
}

.onboarding-hero {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 14px;
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: var(--radius-lg);
  padding: 16px;
  background:
    radial-gradient(180% 120% at 8% 12%, rgba(10, 123, 255, 0.12) 0%, transparent 60%),
    radial-gradient(180% 120% at 82% -10%, rgba(15, 153, 103, 0.1) 0%, transparent 56%),
    var(--surface);
  box-shadow: var(--shadow-card);
}

.onboarding-progress {
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-width: 240px;
}

.onboarding-step-pill {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  background: var(--surface-soft);
  box-shadow: var(--shadow-soft);
}

.onboarding-step-pill.active {
  border-color: var(--primary);
  box-shadow: 0 10px 28px rgba(10, 123, 255, 0.14);
}

.onboarding-step-pill.done {
  border-color: var(--success);
}

.onboarding-step-number {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-weight: 800;
  color: #fdfefe;
  background: var(--ink);
}

.onboarding-step-pill.active .onboarding-step-number {
  background: var(--primary);
}

.onboarding-step-pill.done .onboarding-step-number {
  background: var(--success);
}

.onboarding-step-label {
  margin: 0;
  font-weight: 700;
}

.onboarding-step-sub {
  margin: 2px 0 0;
  color: var(--text-muted);
  font-size: 14px;
}

.onboarding-card {
  min-height: clamp(420px, 64vh, 720px);
}

.onboarding-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.onboarding-actions {
  grid-template-columns: 1fr 1fr;
}

.onboarding-status-block {
  display: flex;
  align-items: center;
  gap: 12px;
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  background: var(--surface-soft);
  padding: 14px;
  border-radius: var(--radius-md);
}

.status-dot {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  background: var(--border);
}

.status-dot[data-state='checking'] {
  background: var(--warning);
}

.status-dot[data-state='ready'] {
  background: var(--success);
}

.status-dot[data-state='error'] {
  background: var(--danger);
}

.onboarding-status-title {
  margin: 0;
  font-weight: 700;
}

.onboarding-command {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 14px;
  background: var(--surface-soft);
}

.onboarding-command-row {
  display: flex;
  gap: 12px;
  justify-content: space-between;
  align-items: flex-start;
  flex-wrap: wrap;
}

.onboarding-command-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.onboarding-command-toolbar {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.onboarding-link-success {
  margin-top: 10px;
  padding: 10px 12px;
  border-left: 3px solid var(--success);
  background: #f3fbf7;
  border-radius: var(--radius-sm);
}

.onboarding-complete {
  margin-top: 10px;
  padding: 14px;
  border-radius: var(--radius-md);
  background: var(--surface-soft);
  border: 1px solid var(--border);
  display: grid;
  gap: 8px;
}

.onboarding-steps-list {
  margin: 0 0 12px;
  padding-left: 20px;
  color: var(--text-muted);
}

.onboarding-command .tg-command-code {
  display: inline-block;
  font-size: 16px;
}

.onboarding-command .tg-expires {
  margin-top: 4px;
}

.onboarding-logo-picker {
  border: 1px dashed var(--border);
  background: var(--surface-soft);
}

.next-steps-card {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
}

.next-steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
  margin-top: 10px;
}

.next-step {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 12px;
  background: var(--surface-soft);
  box-shadow: var(--shadow-soft);
}

.next-step-title {
  margin: 0;
  font-weight: 700;
  letter-spacing: -0.01em;
}

@media (max-width: 720px) {
  .onboarding-hero {
    flex-direction: column;
  }
  .onboarding-progress {
    width: 100%;
  }
  .onboarding-step-pill {
    width: 100%;
  }
}

.subscribe-page {
  padding-bottom: calc(96px + env(safe-area-inset-bottom));
}

.subscribe-hero {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: var(--radius-md);
  background:
    radial-gradient(130% 90% at 14% 6%, rgba(10, 123, 255, 0.16) 0%, transparent 52%),
    radial-gradient(120% 120% at 100% 100%, rgba(104, 235, 187, 0.11) 0%, transparent 52%),
    var(--surface);
  box-shadow: var(--shadow-card);
  padding: 14px;
}

.subscribe-hero-top {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.subscribe-hero-icon {
  width: 44px;
  height: 44px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--primary) 22%, white 78%);
  background: color-mix(in srgb, var(--primary-soft) 70%, white 30%);
  color: var(--primary-strong);
  display: grid;
  place-items: center;
  flex: 0 0 auto;
}

.subscribe-hero-icon svg {
  width: 22px;
  height: 22px;
}

.plan-stack {
  display: grid;
  gap: 12px;
}

.plan-card {
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: var(--radius-md);
  background: rgba(255, 255, 255, 0.78);
  box-shadow: var(--shadow-soft);
  overflow: hidden;
}

.plan-card.selected {
  border-color: color-mix(in srgb, var(--primary) 38%, white 62%);
  background: color-mix(in srgb, var(--primary-soft) 62%, white 38%);
}

.plan-head {
  padding: 14px 14px 10px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.plan-badge {
  display: inline-flex;
  align-items: center;
  min-height: 26px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--primary) 28%, white 72%);
  background: color-mix(in srgb, var(--primary-soft) 70%, white 30%);
  color: var(--primary-strong);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.plan-title {
  margin: 0 0 4px;
  font-size: 22px;
  letter-spacing: -0.02em;
}

.plan-pick {
  flex: 0 0 auto;
  min-height: 36px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  background: rgba(255, 255, 255, 0.7);
  padding: 0 12px;
  font-weight: 800;
  color: var(--text);
}

.plan-options {
  padding: 0 14px 14px;
  display: grid;
  gap: 10px;
}

.plan-option {
  width: 100%;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
  background: rgba(255, 255, 255, 0.78);
  padding: 12px;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  text-align: left;
  cursor: pointer;
}

.plan-option.active {
  border-color: color-mix(in srgb, var(--primary) 45%, white 55%);
  background: linear-gradient(145deg, var(--primary-strong) 0%, var(--ink) 100%);
  color: var(--text-on-strong);
}

.plan-radio {
  width: 18px;
  height: 18px;
  border-radius: 999px;
  border: 2px solid currentColor;
  margin-top: 2px;
  opacity: 0.9;
  position: relative;
  flex: 0 0 auto;
}

.plan-option.active .plan-radio::after {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: 999px;
  background: currentColor;
}

.plan-option-title {
  margin: 0;
  font-weight: 900;
  font-size: 14px;
}

.plan-option-price {
  margin: 6px 0 0;
  font-weight: 900;
  font-size: 18px;
  letter-spacing: -0.01em;
}

.plan-option-meta {
  margin: 6px 0 0;
  font-size: 12px;
  color: color-mix(in srgb, currentColor 82%, transparent 18%);
  font-weight: 700;
}

.plan-features {
  padding: 14px;
  border-top: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
  background: rgba(255, 255, 255, 0.7);
}

.plan-features-kicker {
  margin: 0 0 10px;
  font-weight: 900;
  color: var(--text);
}

.plan-features-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.plan-feature {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  font-size: 14px;
  color: var(--text);
  font-weight: 650;
}

.plan-feature-icon {
  width: 22px;
  height: 22px;
  border-radius: 9px;
  background: color-mix(in srgb, var(--success) 12%, white 88%);
  border: 1px solid color-mix(in srgb, var(--success) 20%, white 80%);
  color: var(--success);
  display: grid;
  place-items: center;
  flex: 0 0 auto;
  margin-top: 1px;
}

.plan-feature-icon svg {
  width: 15px;
  height: 15px;
}

.plan-more {
  margin-top: 12px;
  border: 0;
  background: transparent;
  padding: 0;
  color: var(--primary-strong);
  font-weight: 900;
  text-align: left;
}

.subscribe-sticky {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 30;
  padding: 12px var(--space-4) calc(12px + env(safe-area-inset-bottom));
  background: rgba(243, 246, 251, 0.84);
  backdrop-filter: blur(14px) saturate(130%);
  -webkit-backdrop-filter: blur(14px) saturate(130%);
  border-top: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
}

.subscribe-cta {
  width: min(960px, 100%);
  margin: 0 auto;
  min-height: 58px;
  padding: 10px 14px;
  display: grid;
  gap: 2px;
  text-align: center;
}

.subscribe-cta-title {
  font-weight: 950;
  font-size: 16px;
}

.subscribe-cta-sub {
  font-size: 12px;
  color: color-mix(in srgb, var(--text-on-strong) 86%, transparent 14%);
  font-weight: 700;
}

@media (max-width: 380px) {
  .more-action-grid {
    grid-template-columns: 1fr;
  }
}

.telegram-connect-card {
  display: grid;
  gap: 16px;
}

/* Header with Telegram icon */
.tg-header {
  display: flex;
  align-items: center;
  gap: 12px;
}

.tg-header .kicker {
  margin-bottom: 2px;
}

.tg-header .title {
  margin: 0;
}

.tg-icon-circle {
  width: 48px;
  height: 48px;
  min-width: 48px;
  border-radius: 14px;
  background: linear-gradient(135deg, #0088cc 0%, #0077b5 100%);
  color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Step-by-step flow */
.tg-steps-flow {
  display: grid;
  gap: 0;
  padding: 4px 0;
}

.tg-step-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 0;
}

.tg-step-number {
  width: 28px;
  height: 28px;
  min-width: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #e8f4fd 0%, #d1ecf9 100%);
  border: 1.5px solid #b3ddf2;
  color: #0077b5;
  font-size: 13px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tg-step-body {
  flex: 1;
  padding-top: 2px;
}

.tg-step-title {
  margin: 0;
  font-size: 14px;
  font-weight: 650;
  color: var(--text);
  line-height: 1.3;
}

.tg-step-desc {
  margin: 3px 0 0;
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.5;
}

.tg-step-connector {
  width: 2px;
  height: 12px;
  margin-left: 13px;
  background: linear-gradient(180deg, #b3ddf2, #d1ecf9);
  border-radius: 1px;
}

/* Command card */
.tg-command-card {
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--surface-soft) 76%, white 24%);
  padding: 14px;
  display: grid;
  gap: 8px;
}

.tg-command-label {
  margin: 0;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-muted);
  font-weight: 700;
}

.tg-command-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.tg-command-code {
  flex: 1;
  margin: 0;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
  background: white;
  padding: 10px 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  font-size: 14px;
  color: #0f1d33;
  word-break: break-word;
  display: block;
}

.tg-copy-btn {
  width: 38px;
  height: 38px;
  min-width: 38px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: white;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 180ms ease;
}

.tg-copy-btn:hover {
  background: var(--surface-soft);
  color: var(--text);
  border-color: var(--border-strong);
}

.tg-copy-btn:active {
  transform: scale(0.94);
}

.tg-expires {
  margin: 0;
  font-size: 12px;
  color: var(--text-muted);
}

/* Loading skeleton */
.tg-loading-skeleton {
  display: grid;
  gap: 10px;
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--surface-soft);
}

.tg-skeleton-line {
  height: 14px;
  border-radius: 6px;
  background: linear-gradient(90deg, var(--border) 25%, var(--surface-soft) 50%, var(--border) 75%);
  background-size: 200% 100%;
  animation: tgShimmer 1.5s ease-in-out infinite;
}

.tg-skeleton-line.short {
  width: 60%;
}

@keyframes tgShimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Primary action buttons */
.tg-actions {
  display: grid;
  gap: 10px;
}

.tg-btn-full {
  width: 100%;
}

.tg-bot-link-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 14px 20px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg, #0088cc 0%, #0077b5 100%);
  color: #ffffff;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 200ms ease;
  box-shadow: 0 2px 8px rgba(0, 136, 204, 0.25);
}

.tg-bot-link-btn:hover {
  background: linear-gradient(135deg, #007ab8 0%, #006aa3 100%);
  box-shadow: 0 4px 16px rgba(0, 136, 204, 0.35);
  transform: translateY(-1px);
}

.tg-bot-link-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(0, 136, 204, 0.2);
}

.tg-secondary-actions {
  display: flex;
  gap: 8px;
}

.tg-secondary-actions .btn {
  flex: 1;
}

/* Bot hint / direct link */
.tg-bot-hint {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 12px;
  border-radius: 10px;
  background: linear-gradient(135deg, #f0f9ff 0%, #e8f4fd 100%);
  border: 1px solid #d1ecf9;
}

.tg-bot-hint p {
  margin: 0;
  font-size: 13px;
  color: var(--text-muted);
}

.tg-bot-url {
  font-size: 13px;
  font-weight: 600;
  color: #0088cc;
  text-decoration: none;
  transition: color 150ms ease;
}

.tg-bot-url:hover {
  color: #006aa3;
  text-decoration: underline;
}

.tg-recipients-block {
  margin-top: 12px;
  padding: 12px;
  border-radius: 10px;
  background: color-mix(in srgb, var(--surface-soft) 76%, white 24%);
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
}

.tg-recipients-block .label {
  margin-bottom: 8px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
}

.tg-recipients-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.tg-recipient-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  background: var(--surface);
  border: 1px solid var(--border);
}

.tg-recipient-id {
  font-size: 13px;
  color: var(--text);
}

.tg-recipient-meta {
  font-size: 12px;
  color: var(--text-muted);
}

.tg-disconnect-btn {
  flex-shrink: 0;
  font-size: 12px;
}

/* Legacy  keep for code-panel backward compat */
.telegram-code-panel {
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--surface-soft) 76%, white 24%);
  padding: 12px;
  display: grid;
  gap: 6px;
}

.telegram-code-label {
  margin: 0;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
  font-weight: 800;
}

.telegram-code-value {
  margin: 0;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
  background: white;
  padding: 10px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  font-size: 14px;
  color: #0f1d33;
  word-break: break-word;
}

.telegram-schedule-group {
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  border-radius: 12px;
  background: color-mix(in srgb, var(--surface-soft) 78%, white 22%);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.telegram-weekly-row {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.telegram-inventory-section {
  display: grid;
  gap: 10px;
}

.telegram-inventory-kicker {
  margin: 2px 2px 0;
  font-size: 11px;
  letter-spacing: 0.08em;
  font-weight: 800;
  color: var(--text-muted);
}

.telegram-helper-text {
  margin: 0;
  font-size: 13px;
}

.telegram-frequency-tabs {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
  border: 1px solid color-mix(in srgb, var(--border) 75%, white 25%);
  border-radius: 999px;
  background: color-mix(in srgb, var(--surface-soft) 78%, white 22%);
  padding: 4px;
}

.telegram-frequency-tab {
  min-height: 34px;
  border: 0;
  border-radius: 999px;
  background: transparent;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 800;
}

.telegram-frequency-tab.active {
  background: linear-gradient(145deg, var(--primary-strong) 0%, var(--ink) 100%);
  color: var(--text-on-strong);
  box-shadow: 0 8px 16px rgba(23, 37, 62, 0.2);
}

.telegram-frequency-tab:disabled {
  opacity: 0.56;
}

@media (max-width: 520px) {
  .telegram-weekly-row {
    grid-template-columns: 1fr;
  }
}

.reports-page {
  gap: 12px;
}

.reports-hero {
  border: 1px solid color-mix(in srgb, var(--border) 82%, white 18%);
  border-radius: var(--radius-md);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(104, 164, 255, 0.16) 0%, transparent 56%),
    radial-gradient(120% 120% at 100% 100%, rgba(104, 235, 187, 0.12) 0%, transparent 52%),
    var(--surface);
  box-shadow: var(--shadow-card);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.reports-summary-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.reports-summary-card {
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.74);
  padding: 10px;
  display: grid;
  gap: 4px;
}

.reports-summary-card.active {
  border-color: color-mix(in srgb, var(--primary) 45%, white 55%);
  background: color-mix(in srgb, var(--primary-soft) 68%, white 32%);
}

.reports-summary-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 800;
  color: var(--text-muted);
}

.reports-summary-value {
  font-size: clamp(14px, 3.5vw, 17px);
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.reports-controls {
  position: sticky;
  top: calc(78px + env(safe-area-inset-top));
  z-index: 8;
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: var(--radius-md);
  background: rgba(248, 252, 255, 0.9);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  padding: 10px;
  display: grid;
  gap: 10px;
}

.reports-tabs {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px;
  border: 1px solid color-mix(in srgb, var(--border) 75%, white 25%);
  border-radius: 999px;
  background: color-mix(in srgb, var(--surface-soft) 78%, white 22%);
  padding: 4px;
}

.reports-tab {
  min-height: 40px;
  border: 0;
  border-radius: 999px;
  background: transparent;
  color: var(--text-muted);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 0.01em;
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.reports-tab.active {
  background: linear-gradient(145deg, var(--primary-strong) 0%, var(--ink) 100%);
  color: var(--text-on-strong);
  box-shadow: 0 8px 16px rgba(23, 37, 62, 0.22);
}

.reports-years {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  padding-bottom: 2px;
}

.reports-years::-webkit-scrollbar {
  display: none;
}

.reports-year-pill {
  flex: 0 0 auto;
  min-height: 34px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border) 78%, white 22%);
  background: var(--surface);
  color: var(--text-muted);
  padding: 0 14px;
  font-size: 12px;
  font-weight: 800;
}

.reports-year-pill.active {
  border-color: color-mix(in srgb, var(--primary) 48%, white 52%);
  background: color-mix(in srgb, var(--primary-soft) 70%, white 30%);
  color: var(--primary-strong);
}

.reports-month-list {
  display: grid;
  gap: 10px;
}

.reports-month-card {
  border: 1px solid color-mix(in srgb, var(--border) 84%, white 16%);
  border-radius: var(--radius-sm);
  background:
    linear-gradient(170deg, #ffffff 0%, #f6fbff 62%, #eef6ff 100%);
  box-shadow: var(--shadow-soft);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.reports-month-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.reports-month-head h3 {
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.01em;
}

.reports-month-chip {
  min-height: 24px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border) 74%, white 26%);
  background: color-mix(in srgb, var(--surface-soft) 76%, white 24%);
  color: var(--text-muted);
  padding: 3px 10px;
  font-size: 11px;
  font-weight: 800;
}

.reports-month-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.reports-metric {
  border: 1px solid color-mix(in srgb, var(--border) 80%, white 20%);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.76);
  padding: 10px;
  display: grid;
  gap: 3px;
}

.reports-metric span {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  color: var(--text-muted);
  font-weight: 800;
}

.reports-metric strong {
  font-size: 17px;
  letter-spacing: -0.01em;
}

.reports-metric-wide {
  grid-column: 1 / -1;
}

.reports-focus-line {
  border-radius: 12px;
  border: 1px dashed color-mix(in srgb, var(--border-strong) 72%, white 28%);
  padding: 8px 10px;
  font-size: 13px;
  font-weight: 700;
}

.reports-focus-paid {
  background: color-mix(in srgb, #e9f4ff 74%, white 26%);
  color: #184977;
}

.reports-focus-clients {
  background: color-mix(in srgb, #effcf5 78%, white 22%);
  color: #136241;
}

.reports-focus-items {
  background: color-mix(in srgb, #fff6eb 80%, white 20%);
  color: #8b4e12;
}

.upgrade-card {
  border-radius: var(--radius-lg);
  padding: 16px;
  display: grid;
  gap: 10px;
}

.upgrade-card-premium {
  position: relative;
  border: 1px solid #1f3b70;
  background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.08), transparent 40%),
    linear-gradient(145deg, #0f172a 0%, #0b2447 70%, #0a2f63 100%);
  color: #e7efff;
  box-shadow:
    0 22px 48px rgba(9, 19, 50, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.04) inset;
  overflow: hidden;
}

.upgrade-card-premium::after {
  content: '';
  position: absolute;
  inset: 8px;
  border-radius: calc(var(--radius-lg) - 4px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  pointer-events: none;
}

.upgrade-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.upgrade-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  background: linear-gradient(135deg, #f5d657 0%, #f1b81f 100%);
  color: #2a1a00;
  font-weight: 800;
  font-size: 12px;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  box-shadow: 0 10px 24px rgba(241, 184, 31, 0.3);
}

.upgrade-subcopy {
  color: #c9d8ff;
  margin-bottom: 4px;
}

.upgrade-benefits {
  display: grid;
  gap: 10px;
  margin: 4px 0 4px;
}

.upgrade-benefit {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(231, 239, 255, 0.12);
  color: #e7efff;
  font-weight: 700;
}

.upgrade-check {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  color: white;
  font-weight: 900;
  font-size: 13px;
  box-shadow: 0 6px 14px rgba(34, 197, 94, 0.35);
}

.btn-upgrade {
  color: #0b1b33;
  border: 1px solid rgba(11, 26, 54, 0.25);
  background: linear-gradient(135deg, #f5d657 0%, #f1b81f 38%, #f0a81d 100%);
  box-shadow:
    0 14px 32px rgba(240, 168, 29, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.7) inset;
  font-weight: 900;
  letter-spacing: 0.01em;
}

.btn-upgrade:not(:disabled):hover {
  box-shadow:
    0 18px 36px rgba(240, 168, 29, 0.45),
    0 0 0 1px rgba(255, 255, 255, 0.78) inset;
  transform: translateY(-1px);
}

.btn-upgrade:not(:disabled):active {
  transform: translateY(0);
}

.btn-upgrade-strong {
  width: 100%;
  min-height: 56px;
  font-size: 16px;
}

.feature-list {
  display: grid;
  gap: 8px;
}

.feature-row {
  min-height: var(--tap);
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface-soft);
  padding: 10px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.task-list {
  display: grid;
  gap: 10px;
}

.feature-row .btn {
  min-height: 36px;
  padding: 8px 12px;
}

.bank-balance {
  margin: 8px 0 2px;
  font-weight: 800;
  letter-spacing: -0.01em;
}

.bank-caption {
  margin: 0;
  font-size: 11px;
  color: var(--text-muted);
  font-weight: 700;
}

.template-list-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.fab {
  position: fixed;
  right: 16px;
  bottom: calc(86px + env(safe-area-inset-bottom));
  z-index: 22;
  width: 58px;
  height: 58px;
  padding: 0;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--ink) 72%, white 28%);
  appearance: none;
  -webkit-appearance: none;
  background:
    radial-gradient(130% 90% at 18% 12%, rgba(255, 255, 255, 0.16) 0%, transparent 48%),
    linear-gradient(150deg, #272d37 0%, #14181f 58%, #0b0d12 100%);
  color: white;
  font-size: 30px;
  line-height: 1;
  display: grid;
  place-items: center;
  box-shadow: 0 14px 28px rgba(10, 12, 15, 0.4);
  transition: transform 0.18s ease;
  cursor: pointer;
  text-decoration: none;
}

.fab:active {
  transform: scale(0.97);
}

.fab[disabled] {
  opacity: 0.38;
  cursor: not-allowed;
  transform: none;
}

.fab-send {
  z-index: 26;
  bottom: calc(96px + env(safe-area-inset-bottom));
  width: 62px;
  height: 62px;
  border-radius: 999px;
}

.bottom-nav {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 21;
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  background: rgba(252, 254, 255, 0.8);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
  box-shadow: 0 -8px 20px rgba(14, 34, 62, 0.08);
}

.bottom-nav a {
  min-height: calc(62px + env(safe-area-inset-bottom));
  padding: 10px 6px calc(10px + env(safe-area-inset-bottom));
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  color: color-mix(in srgb, var(--text-muted) 85%, white 15%);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.01em;
}

.bottom-nav a svg {
  width: 19px;
  height: 19px;
  stroke: currentColor;
}

.bottom-nav a.active {
  color: var(--primary-strong);
}

.bottom-nav a.active .nav-pill {
  background: color-mix(in srgb, var(--primary-soft) 72%, white 28%);
  border-color: color-mix(in srgb, var(--primary) 35%, white 65%);
}

.nav-pill {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid transparent;
  display: grid;
  place-items: center;
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}

@keyframes rise-fade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes customer-focus-enter {
  from {
    border-color: color-mix(in srgb, var(--primary) 48%, var(--border) 52%);
    box-shadow:
      0 20px 34px color-mix(in srgb, var(--primary) 24%, transparent 76%),
      0 0 0 2px color-mix(in srgb, var(--primary) 28%, transparent 72%);
  }
  to {
    border-color: color-mix(in srgb, var(--primary) 32%, var(--border) 68%);
    box-shadow: 0 14px 26px color-mix(in srgb, var(--primary) 14%, transparent 86%);
  }
}

@media (min-width: 720px) {
  .content {
    padding: var(--space-6);
    padding-bottom: calc(110px + env(safe-area-inset-bottom));
  }

  .content-editor {
    padding-bottom: calc(136px + env(safe-area-inset-bottom));
  }

  .card,
  .section-card,
  .surface-card,
  .invoice-panel,
  .flow-banner {
    padding: 20px;
  }

  .invoice-meta-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .review-support-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .line-fields {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .sheet {
    left: 50%;
    right: auto;
    transform: translate(-50%, 110%);
    width: min(600px, calc(100% - 40px));
    border-radius: 22px;
    border: 1px solid var(--border);
    bottom: 20px;
  }

  .sheet.open {
    transform: translate(-50%, 0);
  }

  .modal-backdrop {
    align-items: center;
    justify-items: center;
  }

  .modal-card {
    border-radius: 18px;
    border-bottom: 1px solid var(--border);
    max-height: min(84vh, 700px);
  }

  .modal-handle {
    display: none;
  }

  .sticky-actions {
    position: sticky;
    bottom: 16px;
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-card);
    background: rgba(252, 254, 255, 0.82);
    margin-top: 4px;
  }

  .fab {
    right: calc((100vw - min(960px, 100%)) / 2 + 18px);
  }
}

@media (max-width: 420px) {
  .topbar,
  .content,
  .picker-page,
  .auth-page,
  .login-flat-page {
    padding-left: 12px;
    padding-right: 12px;
  }

  .sticky-actions {
    padding-left: 12px;
    padding-right: 12px;
  }

  .welcome-actions {
    padding-left: 12px;
    padding-right: 12px;
  }

  .btn {
    font-size: 13px;
  }

  .step {
    padding-left: 7px;
    padding-right: 7px;
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

.template-list-row {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.upload-card {
  display: grid;
  gap: 12px;
  border: 1px dashed var(--border);
  border-radius: var(--radius-sm);
  background: var(--surface-soft);
  padding: 12px;
}

.upload-preview {
  width: clamp(132px, 40vw, 176px);
  min-height: clamp(96px, 28vw, 116px);
  height: clamp(96px, 28vw, 116px);
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 700;
  overflow: visible;
}

.upload-preview img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  display: block;
}

.upload-preview-qr {
  width: 96px;
  height: 96px;
  min-height: 96px;
  padding: 6px;
  overflow: hidden;
}

.upload-meta {
  display: grid;
  gap: 10px;
}

.upload-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.file-input {
  display: none;
}

.color-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.color-stack {
  display: grid;
  gap: 12px;
}

.color-swatch {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
}

.color-input {
  width: 56px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid var(--border-strong);
  background: #fff;
  padding: 0;
}


.template-preview {
  display: grid;
  gap: 14px;
  background: #fff;
  border: 1px solid var(--template-border, var(--border));
  border-radius: 16px;
  padding: 16px;
  color: var(--template-text, var(--text));
}

.template-preview-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.template-preview-logo {
  width: clamp(124px, 36vw, 170px);
  min-height: clamp(96px, 28vw, 118px);
  height: clamp(96px, 28vw, 118px);
  border-radius: 12px;
  border: 1px solid var(--template-border, var(--border));
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 700;
  overflow: visible;
  padding: 10px;
}

.template-preview-logo img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  display: block;
}

.template-preview-header {
  text-align: right;
  display: grid;
  gap: 4px;
}

.template-preview-title {
  font-weight: 800;
  letter-spacing: 0.14em;
  font-size: 14px;
  color: var(--template-primary, var(--primary));
}

.template-preview-number {
  font-weight: 700;
  font-size: 13px;
}

.template-preview-date {
  font-size: 12px;
  color: color-mix(in srgb, var(--template-text, var(--text)) 70%, white 30%);
}

.template-preview-meta {
  display: grid;
  gap: 12px;
}

.template-preview-block {
  display: grid;
  gap: 6px;
  font-size: 13px;
}

.template-preview-right {
  gap: 8px;
}

.template-preview-label {
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--template-text, var(--text)) 60%, white 40%);
  font-weight: 700;
}

.template-preview-value {
  font-weight: 700;
}

.template-preview-sub {
  font-size: 12px;
  color: color-mix(in srgb, var(--template-text, var(--text)) 65%, white 35%);
}

.template-preview-detail-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  font-size: 12px;
}

.template-preview-table,
.invoice-items-table {
  display: grid;
  gap: 8px;
  font-size: 13px;
}

.template-preview-row,
.invoice-items-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 52px minmax(82px, 0.55fr) minmax(98px, 0.62fr);
  gap: 8px;
  align-items: start;
}

.template-preview-cell,
.invoice-items-cell {
  min-width: 0;
}

.template-preview-row-header .template-preview-cell,
.invoice-items-row-header .invoice-items-cell {
  background: var(
    --invoice-template-table-header-bg,
    var(--template-table-header-bg, var(--invoice-template-primary, var(--template-primary, var(--primary))))
  );
  color: var(--invoice-template-table-header-text, var(--template-table-header-text, #ffffff));
  padding: 6px 8px;
  border-radius: 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.template-preview-cell-right,
.invoice-items-cell-right {
  text-align: right;
  white-space: nowrap;
}

.template-preview-item-name,
.invoice-items-name {
  font-weight: 700;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.template-preview-item-desc,
.invoice-items-desc {
  font-size: 12px;
  color: color-mix(in srgb, var(--invoice-template-text, var(--template-text, var(--text))) 65%, white 35%);
  margin-top: 2px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.template-preview-summary {
  display: grid;
  gap: 6px;
  width: min(240px, 100%);
  margin-left: auto;
  border-top: 1px solid var(--template-border, var(--border));
  padding-top: 8px;
  font-size: 13px;
}

.template-preview-summary-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.template-preview-summary-total {
  font-weight: 800;
  font-size: 14px;
}

.template-preview-footer {
  display: grid;
  gap: 12px;
  border-top: 1px dashed var(--template-border, var(--border));
  padding-top: 12px;
}

.template-preview-notes p {
  margin: 6px 0 0;
  font-size: 12px;
  color: color-mix(in srgb, var(--template-text, var(--text)) 70%, white 30%);
}

.template-preview-pay {
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: space-between;
}

.template-preview-qr {
  width: 84px;
  height: 84px;
  border-radius: 12px;
  border: 1px dashed var(--template-border, var(--border));
  background: var(--surface-soft);
  display: grid;
  place-items: center;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 700;
  overflow: hidden;
}

.template-preview-qr img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.template-preview-pay-text {
  display: grid;
  gap: 4px;
  text-align: right;
  font-size: 12px;
}

@media (min-width: 480px) {
  .template-preview-meta {
    grid-template-columns: 1fr 1fr;
  }

  .template-preview-footer {
    grid-template-columns: 1.2fr 0.8fr;
  }
}

/* Subscription payment chips */
.payment-methods {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.payment-chip {
  padding: 8px 12px;
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 999px;
  background: #fff;
  color: var(--text, #0f172a);
  font-weight: 600;
}
.payment-chip.active {
  border-color: var(--primary-500, #2563eb);
  color: var(--primary-600, #1d4ed8);
  box-shadow: 0 0 0 2px var(--primary-100, #dbeafe);
}
.pending-card {
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 12px;
  padding: 12px 14px;
  background: var(--surface-soft, #f8fafc);
}
.error-text {
  color: #c0392b;
  font-weight: 600;
}

/* Payment proof thumbnails (invoice details) */
.cf-thumb-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(84px, 1fr));
  gap: 10px;
}

.cf-thumb {
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  overflow: hidden;
  background: var(--surface-soft);
  padding: 0;
  aspect-ratio: 1 / 1;
  cursor: pointer;
}

.cf-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* ============================================================
   NEW ONBOARDING STYLES - Modern Wizard with Animations
   ============================================================ */

/* Container */
.onboarding-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding: var(--space-4);
  padding-bottom: calc(120px + env(safe-area-inset-bottom));
  background:
    radial-gradient(120% 65% at 10% -10%, #d9e7ff 0%, transparent 55%),
    radial-gradient(100% 55% at 100% 0%, #e8fff8 0%, transparent 45%),
    var(--bg);
}

/* Brand Header */
.onboarding-brand-header {
  display: flex;
  justify-content: center;
  padding: var(--space-5) 0 var(--space-4);
}

.onboarding-brand-logo {
  width: 180px;
  height: 40px;
  color: var(--ink);
}

/* Progress Section */
.onboarding-progress-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-5);
}

/* Progress Bar */
.progress-bar-container {
  width: 100%;
  max-width: 320px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.progress-bar-track {
  width: 100%;
  height: 6px;
  background: var(--border);
  border-radius: 999px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary) 0%, var(--primary-strong) 100%);
  border-radius: 999px;
  transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.progress-text {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* Step Dots */
.step-dots {
  display: flex;
  align-items: center;
  gap: 4px;
}

.step-dot {
  position: relative;
  display: flex;
  align-items: center;
}

.step-dot-inner {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--border-strong);
  transition: all 0.3s ease;
}

.step-dot.active .step-dot-inner {
  background: var(--primary);
  transform: scale(1.3);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 20%, transparent 80%);
}

.step-dot.done .step-dot-inner {
  background: var(--success);
}

.step-dot-connector {
  width: 24px;
  height: 2px;
  background: var(--border);
  margin: 0 4px;
  transition: background 0.3s ease;
}

.step-dot.done .step-dot-connector {
  background: var(--success);
}

/* Form Error */
.onboarding-form-error {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 16px;
  margin: 0 auto var(--space-4);
  max-width: 480px;
  background: #fff5f5;
  border: 1px solid #feb2b2;
  border-radius: 12px;
  color: #c53030;
  font-size: 14px;
  font-weight: 600;
  animation: shake 0.5s ease;
}

.error-icon {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fc8181;
  color: white;
  display: grid;
  place-items: center;
  font-weight: 800;
  font-size: 12px;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* Main Card */
.onboarding-main-card {
  width: 100%;
  max-width: 520px;
  margin: 0 auto;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px) saturate(150%);
  border: 1px solid color-mix(in srgb, var(--border) 70%, white 30%);
  border-radius: var(--radius-xl);
  box-shadow:
    0 20px 50px rgba(15, 37, 68, 0.12),
    0 0 0 1px rgba(255, 255, 255, 0.5) inset;
  overflow: hidden;
  animation: card-enter 0.5s ease;
}

@keyframes card-enter {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Step Content */
.step-content {
  padding: var(--space-6);
  animation: step-enter 0.3s ease;
}

@keyframes step-enter {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.step-exit {
  animation: step-exit-anim 0.15s ease forwards;
}

@keyframes step-exit-anim {
  to {
    opacity: 0;
    transform: translateX(-20px);
  }
}

.step-exit-prev {
  animation: step-exit-prev-anim 0.15s ease forwards;
}

@keyframes step-exit-prev-anim {
  to {
    opacity: 0;
    transform: translateX(20px);
  }
}

/* Step Header */
.step-header {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: var(--space-5);
}

.step-icon {
  width: 56px;
  height: 56px;
  border-radius: 16px;
  background: linear-gradient(135deg, var(--primary-soft) 0%, color-mix(in srgb, var(--primary) 15%, white 85%) 100%);
  color: var(--primary-strong);
  display: grid;
  place-items: center;
  flex-shrink: 0;
  box-shadow: 0 8px 20px color-mix(in srgb, var(--primary) 15%, transparent 85%);
}

.step-icon svg {
  width: 28px;
  height: 28px;
}

.step-icon.telegram-icon {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  color: #0088cc;
  box-shadow: 0 8px 20px rgba(0, 136, 204, 0.2);
}

.step-header-text {
  flex: 1;
}

.step-title {
  margin: 0 0 6px;
  font-size: 22px;
  font-weight: 800;
  color: var(--text);
  letter-spacing: -0.02em;
  line-height: 1.2;
}

.step-subtitle {
  margin: 0;
  font-size: 15px;
  color: var(--text-muted);
  line-height: 1.4;
}

/* Form Grid in Onboarding */
.onboarding-main-card .form-grid {
  gap: var(--space-4);
}

.onboarding-main-card .label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.label-optional {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.onboarding-main-card .input {
  border-radius: 14px;
  min-height: 52px;
  font-size: 16px;
  transition: all 0.2s ease;
}

.onboarding-main-card .input:focus {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(10, 123, 255, 0.15), 0 0 0 4px rgba(10, 123, 255, 0.1);
}

.onboarding-main-card .input-error {
  border-color: var(--danger);
  background: #fff5f5;
}

/* Logo Upload Area */
.logo-upload-area {
  margin-top: 8px;
}

.logo-upload-btn {
  width: 100%;
  min-height: 120px;
  border: 2px dashed var(--border-strong);
  border-radius: 16px;
  background: var(--surface-soft);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  color: var(--text-muted);
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}

.logo-upload-btn:hover {
  border-color: var(--primary);
  background: color-mix(in srgb, var(--primary-soft) 30%, white 70%);
  color: var(--primary-strong);
}

.logo-upload-btn:active {
  transform: scale(0.99);
}

.logo-upload-btn svg {
  width: 40px;
  height: 40px;
  opacity: 0.6;
}

.logo-preview {
  position: relative;
  width: 100%;
  min-height: 120px;
  border-radius: 16px;
  background: var(--surface-soft);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.logo-preview img {
  max-width: 100%;
  max-height: 100px;
  object-fit: contain;
}

.logo-remove-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 32px;
  height: 32px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: white;
  color: var(--text-muted);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.logo-remove-btn:hover {
  background: #fff5f5;
  color: var(--danger);
  border-color: var(--danger);
}

.logo-remove-btn svg {
  width: 16px;
  height: 16px;
}

.upload-status {
  display: block;
  margin-top: 8px;
  font-size: 13px;
  color: var(--primary-strong);
  font-weight: 600;
}

.template-error-hint {
  margin-top: var(--space-3);
  padding: 10px 14px;
  background: #fffbeb;
  border: 1px solid #fcd34d;
  border-radius: 10px;
  font-size: 13px;
  color: #92400e;
}

/* Telegram Step */
.telegram-success-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 20px;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
  border: 1px solid #6ee7b7;
  border-radius: 16px;
  animation: success-pop 0.4s ease;
}

@keyframes success-pop {
  0% { transform: scale(0.9); opacity: 0; }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); opacity: 1; }
}

.telegram-success-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--success);
  color: white;
  display: grid;
  place-items: center;
  font-size: 24px;
  font-weight: 800;
  flex-shrink: 0;
}

.telegram-success-content h3 {
  margin: 0 0 4px;
  font-size: 18px;
  font-weight: 800;
  color: #065f46;
}

.telegram-success-content p {
  margin: 0;
  font-size: 14px;
  color: #047857;
}

.telegram-steps {
  display: flex;
  flex-direction: column;
  gap: 0;
  margin-bottom: var(--space-5);
}

.telegram-step {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 14px 0;
  position: relative;
}

.telegram-step:not(:last-child)::after {
  content: '';
  position: absolute;
  left: 16px;
  top: 48px;
  width: 2px;
  height: calc(100% - 20px);
  background: linear-gradient(180deg, var(--border) 0%, transparent 100%);
}

.telegram-step-number {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: var(--surface-soft);
  border: 2px solid var(--border-strong);
  color: var(--text-muted);
  display: grid;
  place-items: center;
  font-size: 14px;
  font-weight: 800;
  flex-shrink: 0;
}

.telegram-step-content {
  flex: 1;
  padding-top: 6px;
}

.telegram-step-title {
  margin: 0 0 4px;
  font-size: 15px;
  font-weight: 700;
  color: var(--text);
}

.telegram-step-desc {
  margin: 0;
  font-size: 13px;
  color: var(--text-muted);
}

.telegram-code-section {
  background: var(--surface-soft);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: var(--space-4);
}

.telegram-code-label {
  font-size: 12px;
  font-weight: 800;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 10px;
}

.telegram-code-box {
  display: flex;
  gap: 10px;
}

.telegram-code {
  flex: 1;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
  padding: 14px 18px;
  background: white;
  border: 1px solid var(--border-strong);
  border-radius: 12px;
  word-break: break-all;
}

.telegram-copy-btn {
  width: 52px;
  height: 52px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: white;
  color: var(--text-muted);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.telegram-copy-btn:hover {
  background: var(--surface-soft);
  color: var(--text);
  border-color: var(--border-strong);
}

.telegram-copy-btn:active {
  transform: scale(0.95);
}

.telegram-copy-btn svg {
  width: 22px;
  height: 22px;
}

.telegram-code-expires {
  margin: 10px 0 0;
  font-size: 13px;
  color: var(--text-muted);
}

.btn-generate-code {
  width: 100%;
  min-height: 52px;
}

.copy-message {
  margin: 12px 0 0;
  padding: 10px 14px;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 600;
  text-align: center;
  animation: message-slide 0.3s ease;
}

.copy-message.success {
  background: #ecfdf5;
  color: #065f46;
}

.copy-message.error {
  background: #fff5f5;
  color: #c53030;
}

@keyframes message-slide {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.telegram-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.telegram-bot-btn {
  width: 100%;
  min-height: 56px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg, #0088cc 0%, #0077b5 100%);
  color: white;
  font-size: 16px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 8px 20px rgba(0, 136, 204, 0.3);
}

.telegram-bot-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0, 136, 204, 0.4);
}

.telegram-bot-btn:active {
  transform: translateY(0);
}

.telegram-bot-btn svg {
  width: 24px;
  height: 24px;
}

.btn-refresh {
  min-height: 44px;
}

.telegram-error {
  margin-top: 12px;
  padding: 12px 16px;
  background: #fff5f5;
  border: 1px solid #feb2b2;
  border-radius: 10px;
  color: #c53030;
  font-size: 13px;
  font-weight: 600;
  text-align: center;
}

/* Complete Step */
.step-complete-content {
  text-align: center;
  padding: var(--space-6) var(--space-5);
}

.complete-illustration {
  margin-bottom: var(--space-5);
}

.complete-circle {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: linear-gradient(135deg, #ecfdf5 0%, #a7f3d0 100%);
  border: 4px solid var(--success);
  color: var(--success);
  display: grid;
  place-items: center;
  margin: 0 auto;
  animation: complete-bounce 0.6s ease;
}

.complete-circle svg {
  width: 50px;
  height: 50px;
}

@keyframes complete-bounce {
  0% { transform: scale(0); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.complete-text {
  margin-bottom: var(--space-5);
}

.complete-title {
  margin: 0 0 8px;
  font-size: 28px;
  font-weight: 800;
  color: var(--text);
  letter-spacing: -0.02em;
}

.complete-subtitle {
  margin: 0;
  font-size: 16px;
  color: var(--text-muted);
}

.complete-summary {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: var(--space-5);
  padding: 20px;
  background: var(--surface-soft);
  border-radius: 16px;
}

.complete-check-item {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
}

.complete-check-icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--success);
  color: white;
  display: grid;
  place-items: center;
  font-size: 13px;
  font-weight: 800;
  flex-shrink: 0;
}

.complete-hint {
  font-size: 14px;
  color: var(--text-muted);
}

.complete-hint p {
  margin: 0;
}

/* Actions Bar */
.onboarding-actions-bar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  padding: var(--space-4);
  padding-bottom: calc(var(--space-4) + env(safe-area-inset-bottom));
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px) saturate(150%);
  border-top: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  z-index: 100;
}

.onboarding-btn-back {
  min-width: 100px;
}

.onboarding-btn-back.hidden {
  visibility: hidden;
}

.onboarding-actions-right {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: auto;
}

.onboarding-btn-skip {
  font-weight: 600;
}

.onboarding-btn-next {
  min-width: 140px;
  min-height: 52px;
  font-size: 16px;
  position: relative;
}

.onboarding-btn-next.loading {
  color: transparent;
}

.btn-spinner {
  position: absolute;
  width: 20px;
  height: 20px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Loading State */
.onboarding-loading {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

.onboarding-loading-spinner {
  width: 48px;
  height: 48px;
  border: 3px solid var(--border);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.onboarding-loading p {
  color: var(--text-muted);
  font-size: 16px;
  font-weight: 600;
}

/* Error State */
.onboarding-error {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: var(--space-5);
  text-align: center;
}

.onboarding-error-icon {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: #fff5f5;
  border: 2px solid #feb2b2;
  color: #c53030;
  display: grid;
  place-items: center;
  font-size: 32px;
  font-weight: 800;
}

.onboarding-error h2 {
  margin: 0;
  font-size: 22px;
  font-weight: 800;
  color: var(--text);
}

.onboarding-error p {
  margin: 0;
  color: var(--text-muted);
  max-width: 400px;
}

/* Responsive */
@media (max-width: 560px) {
  .onboarding-container {
    padding: var(--space-3);
    padding-bottom: calc(110px + env(safe-area-inset-bottom));
  }
  
  .onboarding-brand-header {
    padding: var(--space-4) 0 var(--space-3);
  }
  
  .onboarding-brand-logo {
    width: 150px;
    height: 34px;
  }
  
  .step-content {
    padding: var(--space-4);
  }
  
  .step-header {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  
  .step-title {
    font-size: 20px;
  }
  
  .step-subtitle {
    font-size: 14px;
  }
  
  .onboarding-main-card {
    border-radius: var(--radius-lg);
  }
  
  .onboarding-actions-bar {
    padding: var(--space-3);
    padding-bottom: calc(var(--space-3) + env(safe-area-inset-bottom));
  }
  
  .onboarding-btn-next {
    min-width: 120px;
    min-height: 48px;
  }
  
  .onboarding-btn-back {
    min-width: 80px;
    min-height: 48px;
  }
  
  .complete-title {
    font-size: 24px;
  }
}

@media (max-width: 380px) {
  .onboarding-actions-right {
    gap: 8px;
  }
  
  .onboarding-btn-skip {
    padding: 10px 12px;
    font-size: 13px;
  }
  
  .onboarding-btn-next {
    min-width: 100px;
    font-size: 15px;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .step-content,
  .onboarding-main-card,
  .onboarding-form-error,
  .complete-circle,
  .telegram-success-card,
  .copy-message {
    animation: none;
  }
  
  .progress-bar-fill {
    transition: none;
  }
  
  .step-dot-inner {
    transition: none;
  }
}
